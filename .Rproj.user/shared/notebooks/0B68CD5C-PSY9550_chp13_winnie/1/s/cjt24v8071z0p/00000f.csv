"0",""
"0","# write function that extract samples = post, calculate a_sim, then into p_raw, then into p_mu, p_ci, which draws them"
"0",""
"0","# loop over the models in a list"
"0","model_list <- list( m13.m1_pred, m13.m1_pred_size, m13.m1_pred_size_interact)"
"0","colors <- rainbow(length(model_list))"
"0",""
"0","# we set size to 1, to keep it constant...no, that makes the calculations of p skewed to only small or big tadpoles. "
"0",""
"0","# different models, different linear models?? // WINNIE HERE. not sure..."
"0","# p_link_asim_size <- function( pred, size = 1) { "
"0","#   logodds <- post$a_sim + post$b_pred[,pred] + post$b_size[, size]"
"0","#   return( inv_logit(logodds) ) "
"0","# }"
"0",""
"0",""
"0",""
"0","draw_extract <- function(i) {"
"0","  post <- extract.samples(model_list[[i]])"
"0","  post$a_sim <- rnorm( length(post$a_bar) , post$a_bar , post$sigma_a ) "
"0","  "
"0","  p_raw_sim <- sapply(1:2, function(i) p_link_asim(i))"
"0","  p_mu_sim <- apply(p_raw_sim, 2, mean)"
"0","  p_ci_sim <- apply(p_raw_sim, 2, PI)"
"0","  "
"0","  lines( 1:2, p_mu_sim , lwd=2, col = colors[i]) "
"0","  shade( p_ci_sim , 1:2,  col = alpha(colors[i], 0.5) )"
"0","}"
"0",""
"0",""
