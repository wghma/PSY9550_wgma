"0",""
"0","post$a_sim <- rnorm( length(post$a_bar) , post$a_bar , post$sigma_a ) "
"0",""
"0","# as to catch the variation in ponds that we made room for in the model by defining sigma_a, we simulate ponds (see line above) based on a_bar and sigma_a."
"0",""
"0","  logodds_fasit <- post$a_sim + post$b_pred[,1] "
"0",""
"0","p_link_asim <- function( pred ) { "
"0","  logodds <- post$a_sim + post$b_pred[,pred] "
"0","  return( inv_logit(logodds) ) "
"0","  }"
"0",""
"0","p_raw_sim <- sapply(1:2, function(i) p_link_asim(i))"
"0","p_mu_sim <- apply(p_raw_sim, 2, mean)"
"0","p_ci_sim <- apply(p_raw_sim, 2, PI)"
"0",""
"0","plot( propsurv ~ pred , data=d ,"
"0","      xlab = ""predator. 1 = no, 2 = yes"", ylab= ""proportion survival"","
"0","      main = ""variations among ponds"")"
