"0","d$weight_s3 <- d$weight_s^3 "
"0","m4.6 <- quap( "
"0","  alist( height ~ dnorm( mu , sigma ) , "
"0","                     mu <- a + b1*weight_s + b2*weight_s2 + b3*weight_s3 ,"
"0","         a ~ dnorm( 178 , 20 ) ,"
"0","         b1 ~ dlnorm( 0 , 1 ) ,"
"0","         b2 ~ dnorm( 0 , 10 ) , "
"0","         b3 ~ dnorm( 0 , 10 ) , "
"0","         sigma ~ dunif( 0 , 50 )), data = d)"
"0",""
"0","weight.seq <- seq( from=-2.2 , to=2 , length.out=30 ) "
"0","pred_dat <- list( weight_s=weight.seq , weight_s2=weight.seq^2 , weight_s3= weight.seq^3) "
"0",""
"0","mu <- link( m4.6 , data=pred_dat ) "
"0","mu.mean <- apply( mu , 2 , mean )"
"0",""
"0","mu.PI <- apply( mu , 2 , PI , prob=0.89 )"
"0","sim.height <- sim( m4.6 , data=pred_dat ) "
"0","height.PI <- apply( sim.height , 2 , PI , prob=0.89 )"
"0",""
"0",""
"0",""
"0","plot( height ~ weight_s , d , col=col.alpha(rangi2,0.5) ) "
