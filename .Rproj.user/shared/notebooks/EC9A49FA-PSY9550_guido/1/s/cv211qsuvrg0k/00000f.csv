"0",""
"0","N <- 150"
"0","dN <- d2[ 1:N , ] "
"0",""
"0","mN <- quap( "
"0","  alist( height ~ dnorm( mu , sigma ) ,"
"0","         mu <- a + b*( weight - mean(weight) ) , "
"0","         a ~ dnorm( 178 , 20 ) , "
"0","         b ~ dlnorm( 0 , 1 ) , "
"0","         sigma ~ dunif( 0 , 50 ) ) , data=dN )"
"0",""
"0","# extract 20 samples from the posterior "
"0","post <- extract.samples( mN , n=20 ) "
"0","a_avg <- mean(extract.samples( mN)$a) "
"0","b_avg <- mean(extract.samples( mN)$b) "
"0",""
"0","# display raw data and sample size "
"0","plot( dN$weight , dN$height , xlim=range(d2$weight) , ylim=range(d2$height) , col=rangi2 , xlab=""weight"" , ylab=""height"" )+"
"0","  mtext(concat(""N = "",N)) "
"1","integer(0)
"
